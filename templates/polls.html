<html>

<head>
    <title>Polls</title>
    
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  
<link href="styles/css/facts.css" rel="stylesheet">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
   

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      {% for poll in pdata1 %}
         google.charts.setOnLoadCallback(a{{poll.key.id()}});
      function a{{poll.key.id()}}()
      {
        
        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Player');
        data.addColumn('number', 'Votes');
        data.addRows({{poll.votelist|safe}});

        // Set chart options
        var options = {'title': '{{poll.question}}',
                       'width':700,
                       'height':300,pieHole: 0.4,colors: ['#008080','#d56100']};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById({{poll.key.id()}}));
        chart.draw(data, options);
      }{% endfor %}
    </script>
    </head> 
    <body>
   
{% include 'navigationbar.html' %}
<div class = "container-fluid">
{%for poll in pdata1%}

<div class = "col-lg-12">
<h2>{{poll.question}}</h2><br>

<div class = "col-lg-6">
<img src = "{{poll.picture}}">

</div>
<div class = "col-lg-6">
  <div id="{{poll.key.id()}}"></div></div>
 </div> {% endfor %}</div>

</body>
</html>